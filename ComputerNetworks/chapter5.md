# 5.4 路由选择算法与分组交付
## 5.4.1 分组交付和路由选择的基本概念
> 分组交付的基本概念
>> 默认分组（默认网关）
>>
>>直接交付(主机之间直接交付)，间接交付（通过路由器间接交付）
>>

>评价路由选择的依据
>>算法必须是正确，公平和稳定的
>>
>>算法应该尽量简单
>>
>>算法必须能够适应网络拓扑和通信量的变化
>>
>>算法应该是最佳的(相对的)

>路由选择算法的主要参数
>>跳数,从源主机到目的主机的的路径上，转发分组的路由器数量
>>
>>带宽，链路的传输速率
>>
>>延时，传输花费的时间
>>
>>负载，路由器或者线路单位时间的通信量
>>
>>可靠性，传输过程中的分组丢失率
>>
>>开销，传输过程中的耗费

>路由选择算法分类
>> 静态路由表
>> 
>>动态路由器

>IP路由汇聚
>> 最长前缀匹配原则(用来减少路由器表的表项，提高效率)

## 5.4.2 路由表的建立，更新与路由选择协议
### 路由选择协议（路由之间的选择，及时跟新路由表），路由选择算法（路由内部端口的选择）
### 自治系统的基本概念
>核心是路由选择的“自治”
>
>一个自治系统内部路由器之间能够使用动态的路由选择协议，及时地交换路由信息，精确反映自治系统网络拓扑的当前状态
>
>自治系统内部的路由选择称为域内路由选择，自治系统之间的路由选择称为域间路由选择  
>对应用自治系统的结构，路由选择协议也分为两大类：内部网关协议（IGP），外部网关协议（EGP）（被BGP代替了已经，升级了）

## 5.4.3 路由信息协议RIP
自己看书
***

## 5.4.4 最短路径优先选择协议OSPF
### OSPF主干区域与区域的概念  
### OSPF协议的分组类型  
### OSPF域最短路径选择过程  

## 5.4.5 外部网关协议BGP
### 外部网关协议的基本设计思想
- 外部网关协议是不同自治系统的路由器之间交换路由信息的协议
- 1998年,公布了BGP-4
- 在配置BGP时,每个自治系统的管理员要选择至少一个路由器(通常是BGP边界路由器)作为该自治系统的"BGP发言人"
- 一个BGP发言人与其他自治系统中的BGP发言人要交换路由信息,如增加的路由,撤销过时的路由,差错信息等  
具体图见书P248

## 5.4.6 路由器与第三层交换技术
### 路由器结构
如果路由器处理的速率等于输入端口的速率,称为线速处理
### 路由器技术的演变和发展
有兴趣自己研究去  
路由器是连接其他网络的核心设备
### 第三层交换的基本概念
大概了解

# 5.5 Internet控制报文协议--ICMP
ICMP补充IP协议没有的差错查询和控制机制
## 5.5.ICMP1的作用与特点
- ICMP本身是网络层的一个协议,但是他的报文要封装成IP分组,然后再传给数据链路层
- 从协议体系上看,ICMp协议知识解决IP协议可能出现的不可靠问题,不能独立于ip协议存在,他是IP协议的一个组成部分
- ICMP协议设计的初衷是用于IP协议在执行过程中的出错报告,严格说是有路由器来向源主机报告传输出错的原因,差错处理需要高层协议完成
## 5.5.2 报文类型
## 5.5.3 Ping命令与Traceroute命令

# 5.6 IP多播与IGMP协议
## 5.6.1 IP多播的基本概念
## 5.6.2 IP多播地址
- IP多播在Internet/局域网里进行多播
- 标准分类的D类地址是为Ip多播地址定义的  
## 5.6.3 IGMP协议的基本内容
多播的实现方式  
- 定义了一个组地址,每个u代表一个或多个发送者与一个或多个接受者的一个会话
- 接受者可以用多播地址通知路由器,他希望加入或脱出哪个多播组
- 发送者使用多播地址发送分组,无需了解接受者的位置信息和状态信息
- 路由器建立一棵树从发送者分支出去的多播传送树  
-
IGMP协议的操作
- 加入一个组
- 继续组成员关系
- 监视组成员关系
- 离开一个组
## 5.6.4 多播路由器与IP多播中的隧道技术
---

# 5.7 MPLS协议
## 5.7.1 资源预留协议RSVP与分区服务DiffServ
### RSVP的基本概念
- 资源预留协议的核心是对一个应用会话的数据流提供服务质量保证
- 资源预留协议的设计思想是:原主机和目的主机在会话之前建立一个链接,路径上的所有路由器都要预留出此次会话所需的带宽与缓冲区资源
- 由于RSVP是基于单个数九的端--端资源预留,调度处理和缓冲区管理,状态维护机制太复杂,开销太大,不适合用于大型网络
- 单纯的RSVP结构实际上无法让业界接受,也无法在互联网上得到广泛的应用

### DiffServ(以下简称DS)的基本概念
P265

### DiffServ与RSVP的区别主要表现在:
- RSVP是基于某一个会话流,DS是基于某一类应用
- RSVP要求所有的路由器都要修改软件,而DS只需要一组路由器支持

## 5.7.2 多协议表示交换MPLS的基本概念
### MPLS的基本概念
P257

# 5.8 地址解析协议ARP
## 5.8.1 IP地址与物理地址的映射
P269  

# 5.10 IPv6协议
## 5.10.1 IPv6协议的基本概念
P281
## 5.10.3 IPv6的表示方法
***考***  
P283
